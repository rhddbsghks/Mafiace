## 1. 회원 가입 및 로그인

![login](https://user-images.githubusercontent.com/49037411/168464614-e9e4dd59-f9cf-4637-80d3-33041326f0b1.gif)


Mafiace에 회원 가입을 하시면 온라인 마피아 게임은 물론 전적과 업적, 티어 등의 기능을 즐기실 수 있습니다.

ID와 비밀번호, 이메일 주소, 닉네임을 입력해 간편하게 가입할 수 있으며, ID 혹은 비밀번호를 잊으셨어도 가입하셨을 때의 이메일 주소로 찾을 수 있습니다. (비밀번호 찾기의 경우 `JavaMailSender` 인터페이스를 활용하여 임시 비밀번호를 사용자의 이메일로 전송하는 방식으로 구현하였습니다.)

<br>

## 2. 메인 화면 (메뉴바)

### 2-1. 공지사항

Mafiace 운영진의 공지사항을 확인할 수 있습니다. 서버 점검, 버그 수정, 게임 패치, 이벤트 관련 글을 게시할 예정입니다.



### 2-2. 게임 방법

Mafiace의 게임 방법을 확인할 수 있습니다. 플레이 전에 꼭 확인해주세요!



### 2-3. 방 목록

![rooms](https://user-images.githubusercontent.com/49037411/168464653-560f387e-9b9f-4262-8e29-6a2a39d1c308.png)



현재 개설중인 방을 확인할 수 있습니다. 게임에 쉽게 참여할 수 있도록 대기중인 방이 앞에 표시됩니다. 또한 방의 공개/비공개 여부 및 최대 참여 인원에 따라 방을 필터링할 수도 있습니다.

![roommake](https://user-images.githubusercontent.com/49037411/168464664-dea543bf-60b7-4c93-b4b0-d30023aa660d.png)

방을 개설할 때에는 제목, 방의 공개/비공개 여부, 최대 참여 인원, 낮의 토론 시간을 설정할 수 있습니다. 



### 2-4. 기록실

![honor](https://user-images.githubusercontent.com/49037411/168464669-d57216e9-20aa-420e-baa5-9a16da5a882b.png)

전적 (승/패), 최근 10게임의 기록, 업적을 확인할 수 있습니다. 업적은 난이도 및 특수성에 따라 동색, 은색, 금색으로 나뉘어져 있고, 업적 아이콘 위에 커서를 올리면 업적 획득 조건을 볼 수 있습니다. 

아직 획득하지 못 한 업적은 어두운 색으로, 획득한 업적은 밝은 색으로 아이콘이 표시됩니다. 업적 획득 확인은 각 게임이 종료될 때마다 이루어지며, 한 게임에서 여러 업적을 동시에 달성하는 것도 가능합니다. 

업적 클리어에 도전해 보세요!



### 2-5. 내 정보

회원 정보를 확인하고 수정할 수 있어요. 또한 본인의 티어와 레이팅도 확인할 수 있습니다. Mafiace는 현재 Bronze 4부터 Rainbow 1까지 20개의 티어가 있습니다. 

```
Bronze: Rating 1,400 미만
Silver: Rating 1,400 이상 1,800 미만
Gold: Rating 1,800 이상 2,200 미만
Platinum: Rating 2,200 이상 2,600 미만
Rainbow: Rating 2,600 이상
```

모든 플레이어는 Bronze 4 (Rating 1,000)으로 시작합니다. 실력을 갈고 닦아 티어를 UP!

<br>

## 3. 게임

### 3-1. 방 입장

![camera](https://user-images.githubusercontent.com/49037411/168464675-5b7073f8-71b3-4fb9-93e1-46a876873cde.png)

방을 만들거나 입장하기 전에 카메라 테스트가 진행됩니다. Face API와 가중치를 통해 가장 점수가 높게 나온 감정에 해당하는 아이콘이 좌측 상단에 표시됩니다. 또한 재미있는 게임 환경을 위해 **얼굴 인식이 되지 않는 경우 방에 입장할 수 없도록** 설정되어 있습니다.



### 3-2. 게임 시작

방에 최소 4인이 있을 경우 방장은 화면 우측 상단의 Start 버튼을 눌러 게임을 시작할 수 있습니다. 게임이 시작되면 카운트다운 후 자신에게 배정된 직업이 카드 형식의 창으로 표시됩니다. **카드를 못 보셨거나 게임 도중에 자신의 직업을 잊으셨어도 게임 중 화면 우측 상단의 "내 직업" 버튼을 클릭하면 자신의 직업을 다시 확인할 수 있습니다.**



### 3-3. 낮

![day](https://user-images.githubusercontent.com/49037411/168464678-dccb60db-764c-41eb-8542-26e317355dfe.png)

낮에는 영상 채팅으로 방의 토론 시간만큼 대화를 나눌 수 있습니다. 사망한 플레이어 외의 감정은 Face API로 1.5초 간격으로 인식되며, 각 화면 우측 상단의 이모티콘으로 표시됩니다. 이모티콘에 커서를 올리면 각 감정별 점수를 그래프로도 확인할 수 있습니다.

살아 있는 다른 플레이어의 카메라 화면 하단에는 투표 버튼이 있으며, 이를 통해 추방할 플레이어를 선택할 수 있습니다. 토론 시간이 종료되면 표가 집계되고, 가장 많은 표를 받은 플레이어는 추방됩니다. 또한 빠른 게임 진행을 위해 **투표할 수 있는 모든 플레이어가 투표를 마칠 경우 토론 시간이 남아있어도 바로 밤 단계로 넘어가도록 구현했습니다.** 투표 결과가 동률이거나 아무도 투표를 하지 않았을 때는 아무도 추방당하지 않습니다. **또한, 재미있는 게임 진행과 게임 밸런스를 위하여 첫 날 낮에는 아무도 투표할 수 없도록 설정되어 있습니다.**



### 3-4. 밤

![police](https://user-images.githubusercontent.com/49037411/168464682-70f7dba4-e757-4ecf-9189-d94ab44dd01f.png)

밤은 토론 시간과 관계 없이 15초간 진행되며, 자신의 직업에 따라 화면이 조금씩 다르게 표시됩니다.

- **일반 시민**은 본인의 화면만 보이며, 나머지 플레이어들은 검은 화면으로 보입니다. 나머지 플레이어의 마이크 소리역시 들을 수 없습니다.
- **마피아**는 다른 마피아를 포함한 모든 플레이어의 화면을 볼 수 있으며, 목소리도 들을 수 있습니다. 마피아와 시민을 쉽게 구분할 수 있도록 시민의 화면은 **흐림 처리**되어 보입니다. 물론 **다른 시민들은 마피아의 대화를 들을 수 없게 구현되어 있습니다.** 낮이 되면 시민들도 다시 바로 마피아의 목소리를 들을 수 있으니 밤의 남은 시간에 유의하세요!
- **경찰**과 **의사**는 일반 시민과 동일한 화면 구조이나, 각각 "치료"와 "수사"버튼이 다른 플레이어의 화면 하단에 표시됩니다. 버튼을 클릭하여 밤마다 특수 능력을 1회 사용할 수 있습니다. 



### 3-5. 사후 세계

![chat](https://user-images.githubusercontent.com/49037411/168464685-043d4d7f-d222-470a-8c6a-2ca791b4ff95.gif)

죽은 플레이어들도 추리를 하며 지루하지 않게 게임을 즐길 수 있도록 채팅 기능을 구현하였습니다. 사망 후 화면 우측 하단에 표시되는 "사후 세계" 버튼을 클릭하여 채팅창을 띄울 수 있습니다. **뒤늦게 죽은 플레이어들도 사후 세계에 작성된 메시지를 모두 볼 수 있습니다.** 살아있는 플레이어들은 죽은 플레이어의 목소리를 들을 수 없으나, 죽은 플레이어들은 살아있는 플레이어들의 대화를 모두 들을 수 있습니다.



### 3-6. 게임 종료

![result](https://user-images.githubusercontent.com/49037411/168464692-a9a43fb2-6117-46d2-a7ca-9ee7dc892dc0.png)

시민 또는 마피아 팀의 승리가 확정되면 게임이 종료되며, 결과 창이 화면 중앙에 표시됩니다. 승패 여부 및 자신의 직업에 따라 레이팅이 가감됩니다. 게임 종료 후에는 같은 방의 대기 상태로 전환됩니다.
